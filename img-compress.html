<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Compress images and convert JPG to PDF online. Free, fast, and SEO-optimized.">
  <meta name="keywords" content="Image Compressor, JPG to PDF, Optimize Images, Convert JPG">
  <meta name="author" content="YourSiteName">
  <title>Fast Image Compressor & JPG to PDF Tool</title>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- jsPDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <style>
    .ad-slot {
      background: #e2e8f0;
      border: 2px dashed #cbd5e0;
      text-align: center;
      padding: 30px;
      margin: 20px 0;
    }
    .drag-over {
      border-color: #3b82f6;
      background-color: #eff6ff;
    }
  </style>
</head>

<body class="bg-gray-50 text-gray-800 font-sans">

  <!-- Header -->
  <header class="bg-white shadow p-6 text-center">
    <h1 class="text-4xl font-bold">Image Compressor & JPG to PDF</h1>
    <p class="text-lg text-gray-600 mt-2">Optimize your images and convert JPGs to PDFs easily.</p>
  </header>

  <!-- Ad Space -->
  <div class="ad-slot">
    <!-- Insert Google AdSense here -->
    Ad Space (Responsive 728x90)
  </div>

  <!-- Main Section -->
  <main class="max-w-6xl mx-auto p-6 grid grid-cols-1 md:grid-cols-2 gap-8">

    <!-- Image Compressor Card -->
    <section class="bg-white rounded-2xl shadow-lg p-6 transition hover:shadow-2xl">
      <h2 class="text-2xl font-semibold mb-4">Image Compression</h2>

      <div id="drop-area" class="border-2 border-dashed border-gray-400 rounded-lg p-8 text-center cursor-pointer transition hover:border-blue-500 mb-4">
        <p class="text-gray-500">Drag & Drop an Image or Click to Upload</p>
        <input type="file" id="imageInput" accept="image/*" class="hidden">
      </div>

      <label for="quality" class="block mb-2 text-gray-700 font-medium">
        Compression Quality: <span id="qualityValue">0.7</span>
      </label>
      <input type="range" id="quality" min="0.1" max="1" step="0.05" value="0.7" class="w-full mb-4">

      <button onclick="compressImage()" class="w-full py-2 bg-blue-600 text-white font-bold rounded hover:bg-blue-700 transition">
        Compress Image
      </button>

      <div id="compressedResult" class="mt-6 text-center"></div>
    </section>

    <!-- JPG to PDF Card -->
    <section class="bg-white rounded-2xl shadow-lg p-6 transition hover:shadow-2xl">
      <h2 class="text-2xl font-semibold mb-4">JPG to PDF Converter</h2>

      <div id="pdf-drop-area" class="border-2 border-dashed border-gray-400 rounded-lg p-8 text-center cursor-pointer transition hover:border-green-500 mb-4">
        <p class="text-gray-500">Drag & Drop JPGs or Click to Upload</p>
        <input type="file" id="pdfImageInput" accept="image/jpeg" multiple class="hidden">
      </div>

      <button onclick="convertToPDF()" class="w-full py-2 bg-green-600 text-white font-bold rounded hover:bg-green-700 transition">
        Convert to PDF
      </button>

      <div id="pdfResult" class="mt-6 text-center"></div>
    </section>

  </main>

  <!-- Ad Slot -->
  <div class="ad-slot">
    Ad Slot (336x280)
  </div>

  <!-- Footer -->
  <footer class="text-center text-sm text-gray-500 p-6 mt-6">
    Â© 2025 YourSiteName | All rights reserved.
  </footer>

  <!-- JS Script -->
  <script>
    const qualityInput = document.getElementById('quality');
    const qualityValue = document.getElementById('qualityValue');
    const dropArea = document.getElementById('drop-area');
    const pdfDropArea = document.getElementById('pdf-drop-area');
    const imageInput = document.getElementById('imageInput');
    const pdfImageInput = document.getElementById('pdfImageInput');

    qualityInput.addEventListener('input', () => {
      qualityValue.textContent = qualityInput.value;
    });

    dropArea.addEventListener('click', () => imageInput.click());
    pdfDropArea.addEventListener('click', () => pdfImageInput.click());

    // Drag and Drop Events for Image Compressor
    dropArea.addEventListener('dragover', (e) => {
      e.preventDefault();
      dropArea.classList.add('drag-over');
    });
    dropArea.addEventListener('dragleave', () => {
      dropArea.classList.remove('drag-over');
    });
    dropArea.addEventListener('drop', (e) => {
      e.preventDefault();
      dropArea.classList.remove('drag-over');
      imageInput.files = e.dataTransfer.files;
    });

    // Drag and Drop Events for PDF Converter
    pdfDropArea.addEventListener('dragover', (e) => {
      e.preventDefault();
      pdfDropArea.classList.add('drag-over');
    });
    pdfDropArea.addEventListener('dragleave', () => {
      pdfDropArea.classList.remove('drag-over');
    });
    pdfDropArea.addEventListener('drop', (e) => {
      e.preventDefault();
      pdfDropArea.classList.remove('drag-over');
      pdfImageInput.files = e.dataTransfer.files;
    });

    function compressImage() {
      const input = imageInput.files[0];
      const quality = parseFloat(qualityInput.value);
      const resultDiv = document.getElementById('compressedResult');

      if (!input) {
        alert("Please select an image.");
        return;
      }

      resultDiv.innerHTML = '<div class="loader mx-auto my-4">Compressing...</div>';

      const reader = new FileReader();
      reader.readAsDataURL(input);
      reader.onload = function (e) {
        const img = new Image();
        img.src = e.target.result;

        img.onload = function () {
          const canvas = document.createElement('canvas');
          const ctx = canvas.getContext('2d');
          canvas.width = img.width;
          canvas.height = img.height;
          ctx.drawImage(img, 0, 0);

          const compressedData = canvas.toDataURL('image/jpeg', quality);

          const downloadLink = document.createElement('a');
          downloadLink.href = compressedData;
          downloadLink.download = 'compressed-image.jpg';
          downloadLink.textContent = 'Download Compressed Image';
          downloadLink.className = "inline-block mt-4 bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded";

          resultDiv.innerHTML = `<img src="${compressedData}" alt="Compressed Image" class="max-w-full rounded shadow mt-4">`;
          resultDiv.appendChild(downloadLink);
        }
      }
    }

    async function convertToPDF() {
      const inputs = pdfImageInput.files;
      const resultDiv = document.getElementById('pdfResult');

      if (inputs.length === 0) {
        alert("Please select JPG images.");
        return;
      }

      resultDiv.innerHTML = '<div class="loader mx-auto my-4">Generating PDF...</div>';

      const { jsPDF } = window.jspdf;
      const pdf = new jsPDF();

      for (let i = 0; i < inputs.length; i++) {
        const file = inputs[i];
        const imgData = await readFileAsDataURL(file);

        const img = new Image();
        img.src = imgData;

        await new Promise(resolve => {
          img.onload = function () {
            const imgWidth = 210;
            const imgHeight = (img.height * imgWidth) / img.width;
            if (i !== 0) pdf.addPage();
            pdf.addImage(img, 'JPEG', 0, 0, imgWidth, imgHeight);
            resolve();
          }
        });
      }

      pdf.save('converted-images.pdf');
      resultDiv.innerHTML = `<p class="text-green-600 mt-4">PDF created and downloaded!</p>`;
    }

    function readFileAsDataURL(file) {
      return new Promise((resolve, reject) => {
        const reader = new FileReader();
        reader.onload = (e) => resolve(e.target.result);
        reader.onerror = (e) => reject(e);
        reader.readAsDataURL(file);
      });
    }
  </script>

</body>
</html>
